#!name=èœé¸ŸåŒ…è£¹
#!desc=èœé¸ŸåŒ…è£¹å»å¹¿å‘Š (Rule + Script)
#!category=ğŸˆ Bingo

[Rule]
AND,((USER-AGENT,Cainiao4iPhone*), (DOMAIN,amdc.m.taobao.com,extended-matching)),REJECT

[URL Rewrite]
# é¦–é¡µç€‘å¸ƒæµ
^https:\/\/nbcps-mtop\.cainiao\.com\/gw\/mtop\.cainiao\.nbcps\.presentation\.fetch\.cn - reject
^https:\/\/netflow-mtop\.cainiao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads\.index - reject

# æœç´¢æ 
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.adkeyword\.get\.cn - reject

# æ¥å¯„å·
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads\.m?show - reject

[Script]
# é¦–é¡µ & æˆ‘çš„
èœé¸ŸåŒ…è£¹_é¦–é¡µæˆ‘çš„ = type=http-response,pattern=^https:\/\/(cn-acs\.m|e2e-mtop)\.cainiao\.com\/gw\/mtop\.cainiao\.app\.e2e\.engine\.page\.fetch,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/byhooi/Surge/main/Script/cainiao.js

# å‘ç°é¡µ
èœé¸ŸåŒ…è£¹_å‘ç°é¡µ = type=http-response,pattern=^https:\/\/longquan-mtop\.cainiao\.com\/gw\/mtop\.com\.cainiao\.longquan\.place\.getpageresourcecontent\.cn,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/byhooi/Surge/main/Script/cainiao.js

# é˜»å¡é…ç½®åŠ è½½
èœé¸ŸåŒ…è£¹_é…ç½® = type=http-response,pattern=^https:\/\/netflow-mtop\.cainiao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/byhooi/Surge/main/Script/cainiao.js

[MITM]
hostname = %APPEND% netflow-mtop.cainiao.com, nbcps-mtop.cainiao.com, cn-acs.m.cainiao.com, e2e-mtop.cainiao.com, longquan-mtop.cainiao.com
